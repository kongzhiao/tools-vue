# 移动端报销申报页面

## 功能概述

这是一个集成了OCR识别功能的移动端报销申报页面，用户可以通过拍照或上传图片的方式快速识别发票信息，然后完成报销申报流程。

## 页面特性

### 1. 四步流程设计
- **步骤1：OCR识别** - 上传发票图片进行智能识别
- **步骤2：信息确认** - 确认识别结果的准确性
- **步骤3：报销申报** - 填写完整的报销申请信息
- **步骤4：提交完成** - 显示申请成功状态

### 2. OCR识别功能
- 支持拍照识别和图片上传
- 自动识别发票中的关键信息：
  - 患者姓名
  - 身份证号
  - 银行卡号
  - 手机号
  - 地址
  - 银行名称
- 识别结果自动填充到表单中

### 3. 智能表单
- 基于识别结果自动预填充
- 支持手动修改和补充
- 表单验证确保数据完整性
- 响应式设计适配移动端

### 4. 用户体验优化
- 步骤指示器清晰显示当前进度
- 支持返回上一步操作
- 加载状态和错误处理
- 成功反馈和后续操作引导

## 技术实现

### 组件结构
```
ReimbursementPage/
├── index.tsx          # 主组件
├── index.less         # 样式文件
├── route.ts           # 路由配置
└── README.md          # 说明文档
```

### 主要依赖
- `antd-mobile` - 移动端UI组件库
- `@umijs/max` - 路由和状态管理
- `@/services/ocr` - OCR识别服务
- `@/services/medicalAssistance` - 报销相关服务

### 状态管理
- `currentStep` - 当前步骤状态
- `uploadedImage` - 上传的图片
- `recognitionResult` - OCR识别结果
- `form` - 表单实例

## 使用方法

### 1. 访问页面
- 移动端访问：`/m/medical/reimbursement`
- 通过TabBar导航：点击"报销申报"标签

### 2. OCR识别
1. 点击"拍照识别"或"选择图片"
2. 上传清晰的发票图片
3. 等待系统自动识别
4. 查看识别结果

### 3. 信息确认
1. 仔细核对识别结果
2. 如有错误，返回重新识别
3. 确认无误后点击"信息正确，继续"

### 4. 填写报销信息
1. 系统自动填充识别到的信息
2. 补充必要的报销信息
3. 填写报销金额和备注
4. 点击"提交报销申请"

### 5. 完成申请
1. 查看申请成功提示
2. 记录申请编号
3. 选择继续申请或返回首页

## 注意事项

1. **图片要求**：
   - 支持 JPG、PNG、GIF 格式
   - 文件大小不超过 10MB
   - 确保图片清晰，文字可读

2. **网络要求**：
   - 需要稳定的网络连接
   - OCR识别可能需要几秒钟时间

3. **数据安全**：
   - 所有敏感信息通过HTTPS传输
   - 图片数据仅用于识别，不永久存储

## 错误处理

- **识别失败**：显示错误提示，支持重新识别
- **网络异常**：显示网络错误，建议检查网络连接
- **表单验证**：实时验证，提示必填字段

## 后续优化

1. 集成真实的相机组件
2. 添加图片编辑功能
3. 支持批量识别
4. 增加识别历史记录
5. 优化识别准确率 